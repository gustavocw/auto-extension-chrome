import{j as e,c as j,r as g}from"./client.js";function k(){return{handleClick:()=>{chrome.tabs.query({active:!0,currentWindow:!0},u=>{chrome.scripting.executeScript({target:{tabId:u[0].id},func:()=>[...document.querySelectorAll(".project-item")].map(t=>{var a,i,d;const n=t.querySelector(".project-title"),s=t.querySelector("a"),c=t.querySelector(".values span:first-child"),l=t.querySelector(".html-desc.project-details"),m=n&&((a=n.textContent)==null?void 0:a.trim())||"Título não encontrado",p=s?s.href:"Link não encontrado",h=c&&((i=c.textContent)==null?void 0:i.trim())||"Valor não encontrado",x=l&&((d=l.textContent)==null?void 0:d.replace("Ver mais detalhes","").trim())||"Descrição não encontrada";return{title:m,link:p,budget:h,description:x}})},o=>{if(o&&o[0].result){const t=o[0].result;console.log("Projetos extraídos:",t),chrome.storage.local.set({capturedProjects:t},()=>{console.log("Projetos salvos no storage:",t),chrome.tabs.create({url:chrome.runtime.getURL("src/pages/html/projects.html")})})}else console.log("Nenhum projeto encontrado"),chrome.tabs.create({url:chrome.runtime.getURL("src/pages/html/projects.html")})})})}}}const y=()=>{const{handleClick:r}=k();return e.jsxs("div",{className:"popup-container",children:[e.jsxs("div",{className:"popup-main",children:[e.jsxs("div",{className:"title-box",children:[e.jsx("h1",{className:"title",children:"Find Work"}),e.jsx("p",{className:"subtitle",children:"Capture projetos do Workana com um clique"})]}),e.jsxs("button",{onClick:r,className:"button",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon",children:[e.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),e.jsx("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),e.jsx("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),"Capturar Projetos"]})]}),e.jsx("div",{className:"footer",children:e.jsx("p",{className:"footer-text",children:"Navegue até a página de projetos do Workana e clique no botão"})})]})};function b(){return e.jsx(e.Fragment,{children:e.jsx(y,{})})}j.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(b,{})}));
